.SUFFIXES: .ms .pdf
#.SUFFIXES:

SRCS=$(shell find -type f -name '*.ms' )
TARGET := $(addsuffix .pdf,$(basename $(SRCS)))

all: ${TARGET}

%.pdf: %.ps
	ps2pdf $< $@

%.ps: %.ms
	groff -ms -mspdf -b -wall -pkte -T ps $< > $@

lint: ${SRCS}
	writegood --parse $<
	proselint $<

clean:
	rm -f *.pdf

.PHONY: clean all lint
